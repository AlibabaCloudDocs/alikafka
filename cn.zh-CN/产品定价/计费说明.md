# 计费说明

本文介绍消息队列Kafka版的规格类型、地域、实例类型、计费项目和计费模式。

**说明：** 消息队列Kafka版的Connector组件处于公测阶段，且独立于消息队列Kafka版实例，因此不会在消息队列Kafka版侧产生费用。同时，阿里云不承诺Connector的SLA，使用Connector所依赖的其他产品的SLA和费用说明请以对应产品为准。

## 规格类型

消息队列Kafka版的规格类型如下：

|项目|标准版（高写版）|专业版（高写版）|专业版（高读版）|
|--|--------|--------|--------|
|版本|仅支持0.10.x。|-   支持0.10.x~2.x。
-   2.x向前兼容0.11.x和1.x。
-   默认部署版本为0.10.x，若需升级，请参见[升级实例版本](/cn.zh-CN/用户指南/实例/升级实例版本.md)。

|-   支持0.10.x~2.x。
-   2.x向前兼容0.11.x和1.x。
-   默认部署版本为0.10.x，若需升级，请参见[升级实例版本](/cn.zh-CN/用户指南/实例/升级实例版本.md)。 |
|流量峰值读写比|1:1|1:1|5:1|
|实例类型|虚拟实例（部分共享）。|专享实例。|专享实例。|
|消息存储时间|最多7天。|支持根据业务场景定制。|支持根据业务场景定制。|
|容灾|单可用区部署。|支持多可用区部署。|支持多可用区部署。|
|性能调优|不支持。|支持根据业务场景定制。|支持根据业务场景定制。|
|跨地域消息路由|不支持。|不支持。|不支持。|
|Topic|可用Topic数为购买Topic数。|可用Topic数为购买Topic数的两倍。|可用Topic数为购买Topic数的两倍。|

## 地域

消息队列Kafka版支持的地域如下：

|地域类型|地域名称|
|----|----|
|地域组1|华东1（杭州）|
|华东2（上海）|
|华北1（青岛）|
|华北2（北京）|
|华北3（张家口）|
|华北5（呼和浩特）|
|华南1（深圳）|
|华南2（河源）|
|西南1（成都）|
|地域组2|中国香港|
|新加坡（新加坡）|
|日本（东京）|
|美国（弗吉尼亚）|
|美国（硅谷）|
|德国（法兰克福）|
|英国（伦敦）|
|地域组3|马来西亚（吉隆坡）|
|印度（孟买）|
|印度尼西亚（雅加达）|

## 实例类型

消息队列Kafka版的实例类型如下：

-   VPC实例：只能通过专有网络VPC访问。
-   公网/VPC实例：既能通过公网访问，也能通过专有网络VPC访问。

## 计费项目

消息队列Kafka版的计费项目如下：

|计费项目|说明|
|----|--|
|公网流量|公网流量分为双通道，读写一致。购买时请按照读流量峰值或写流量峰值的最大值购买公网流量带宽。该计费项目仅适用于公网/VPC实例。|
|流量规格|-   流量规格指网卡流量（网卡流量=业务流量+集群内副本复制流量）。业务流量指业务上实际消息产生的流量，集群内副本复制流量指的是消息队列Kafka版集群3备份时产生的复制流量。
-   业务流量为双通道。高写版读写比1:1，高读版读写比5:1。购买时请按照读流量峰值或写流量峰值的最大值购买网卡流量。为了业务的稳定性，一般购买大于实际读或写流量峰值最大值30%左右的余量作为缓冲。 |
|磁盘容量|-   出于性能和存储空间考虑，不同的流量规格对应不同的磁盘容量下限。
-   消息队列Kafka版支持的磁盘类型包括高效云盘和SSD（推荐）。
-   不同磁盘类型的磁盘单价不同。
-   磁盘类型一经下单，不支持更改，请谨慎选择。
-   数据默认3副本存储。
    -   实例规格为标准版时，如果您购买300 GB磁盘，则实际存储业务的磁盘大小为100 GB，其余200 GB为备份容量。
    -   实例规格为专业版时，如果您购买300 GB磁盘，则实际存储业务的磁盘大小为300 GB，额外赠送600 GB备份容量。

**说明：** 额外赠送只适用于存储引擎为云存储的Topic。关于云存储的更多信息，请参见[存储引擎对比](/cn.zh-CN/产品简介/存储引擎对比.md)。 |
|Topic规格|-   不同的流量规格对应不同的Topic或分区数量上限。
-   在默认分区数的基础上，每增购1个Topic，对应增加16个分区。例如，您购买了Topic数量为50、流量规格为20 MB/s、默认分区数为400的实例，那么当您增购10个Topic后，该实例对应增加160个分区，分区数上升为560。
-   专业版实例的可用Topic数=购买Topic数×2。例如，您购买了Topic数量为50的专业版实例，那么该实例实际可用的Topic数为100。 |

**说明：**

-   以上各个计费项目分别计费后再叠加的费用即是您需支付的费用。
-   您可以设置消息保留最长时间节省磁盘容量。该参数是指在磁盘容量充足的情况下，消息的最长保留时间。在磁盘容量不足（即磁盘空间使用率达到90%）时，系统将提前删除旧的消息，以确保服务可用性。消息保留的最长时间默认为72小时，可选24小时～168小时。
-   接口调用次数不作为计费项目。

## 计费模式

消息队列Kafka版的计费模式如下：

-   [包年包月](#section_zt1_rad_6pr)
-   [按量付费](#section_oik_ks8_s2u)

**说明：**

-   支持从按量后付费模式切换到包年包月预付费模式。您可登录[消息队列Kafka版控制台](http://kafka.console.aliyun.com/?spm=a2c4g.11186623.2.16.10522eb1SUcSI6)，在**实例详情**页面的**运行状态**区域，单击**转包年包月**完成切换。
-   目前，仅支持从按量后付费模式切换到包年包月预付费模式，且切换时不能改变配置。

## 包年包月

计费公式

计费公式与实例类型相关。

-   如果购买的是公网/VPC实例，请按需选择公网流量、流量规格、磁盘容量、增加的Topic数量。

    总计费=（公网流量单价+流量规格单价+磁盘容量单价×购买的磁盘容量/100+Topic单价×增加的Topic数量）×月数

-   如果购买的是VPC实例，请按需选择流量规格、磁盘容量、增加的Topic数量。

    总计费=（流量规格单价+磁盘容量单价×购买的磁盘容量/100+Topic单价×增加的Topic数量）×月数


计费规则

计费规则包括公网流量、流量规格、磁盘容量、增加的Topic：

-   公网流量计费规则

    详情请参见弹性公网IP的[包年包月](/cn.zh-CN/产品计费/包年包月.md)。

-   流量规格计费规则

    流量规格计费规则和规格类型相关。

    **说明：** 标准版（高写版）中alikafka.hw.test流量规格有以下使用限制：

    -   仅限从未购买过消息队列Kafka版实例的新用户购买该流量规格的实例，且仅限购买一个。
    -   使用该流量规格的消息队列Kafka版实例，将不具备SLA保障，如果您需要部署线上业务，建议您升级该流量规格的实例或重新购买正式版本流量规格的实例。
    |流量规格|网卡读流量峰值（MB/s）|网卡写流量峰值（MB/s）|规格内预包含Topic数量（个）|规格内预包含分区数量（个）|地域组1单价（元/月）|地域组2单价（元/月）|地域组3单价（元/月）|
    |----|-------------|-------------|----------------|-------------|-----------|-----------|-----------|
    |alikafka.hw.2xlarge|3×20|3×20|50|400|1408.5|2050.5|1878.5|
    |alikafka.hw.3xlarge|3×30|3×30|50|500|2003.5|2907.5|2667.5|
    |alikafka.hw.6xlarge|3×60|3×60|80|600|2793.5|4051.5|3715.5|
    |alikafka.hw.9xlarge|3×90|3×90|100|800|3431|4979|4563|
    |alikafka.hw.12xlarge|3×120|3×120|150|900|4121|5973|5471|
    |alikafka.hw.test|3×2|3×2|3|36|290|290|290|

    |流量规格|网卡读流量峰值（MB/s）|网卡写流量峰值（MB/s）|规格内预包含Topic数量（个）|规格内预包含分区数量（个）|地域组1单价（元/月）|地域组2单价（元/月）|地域组3单价（元/月）|
    |----|-------------|-------------|----------------|-------------|-----------|-----------|-----------|
    |alikafka.hw.2xlarge|3×20|3×20|50|1100|3387|4917.5|4511.5|
    |alikafka.hw.3xlarge|3×30|3×30|50|1200|4235|6142.5|5642.5|
    |alikafka.hw.6xlarge|3×60|3×60|80|1400|5835|8462.5|7764.5|
    |alikafka.hw.9xlarge|3×90|3×90|100|1600|7065|10245|9397|
    |alikafka.hw.12xlarge|3×120|3×120|150|1800|8445|12255|11239|
    |alikafka.hw.16xlarge|3×160|3×160|180|2000|9525|13820|12672|
    |alikafka.hw.20xlarge|3×200|3×200|200|2200|14565|21125|19375|
    |alikafka.hw.25xlarge|3×250|3×250|250|2500|16525|23970|21988|
    |alikafka.hw.30xlarge|3×300|3×300|300|3000|18185|26370|24192|
    |alikafka.hw.60xlarge|3×600|3×600|450|4500|20785|30140|27650|
    |alikafka.hw.80xlarge|3×800|3×800|500|5000|22485|32605|29911|
    |alikafka.hw.100xlarge|3×1000|3×1000|600|6000|24305|35250|32334|
    |alikafka.hw.120xlarge|3×1200|3×1200|700|7000|25785|37390|34300|
    |alikafka.hw.150xlarge|3×1500|3×1500|800|8000|28385|41160|37758|
    |alikafka.hw.180xlarge|3×1800|3×1800|900|9000|30885|44785|41083|
    |alikafka.hw.200xlarge|3×2000|3×2000|1000|10000|32925|47745|43791|

    |流量规格|网卡读流量峰值（MB/s）|网卡写流量峰值（MB/s）|规格内预包含Topic数量（个）|规格内预包含分区数量（个）|地域组1单价（元/月）|地域组2单价（元/月）|地域组3单价（元/月）|
    |----|-------------|-------------|----------------|-------------|-----------|-----------|-----------|
    |alikafka.hr.xlarge|50+2×10|10+2×10|50|1100|3387|4917.5|4511.5|
    |alikafka.hr.3xlarge|75+2×15|15+2×15|50|1200|4235|6142.5|5642.5|
    |alikafka.hr.6xlarge|150+2×30|30+2×30|80|1400|5835|8462.5|7764.5|
    |alikafka.hr.9xlarge|180+2×45|45+2×45|100|1600|7065|10245|9397|
    |alikafka.hr.12xlarge|240+2×60|60+2×60|150|1800|8445|12255|11239|

-   磁盘容量计费规则

    |磁盘类型|磁盘容量（GB）|地域组1单价（元/月）|地域组2单价（元/月）|地域组3单价（元/月）|
    |----|--------|-----------|-----------|-----------|
    |高效云盘|100|35|51|47|
    |SSD|100|100|145|133|

    **说明：** 如果规格内预包含的磁盘容量不满足需求，需额外增加磁盘。

-   增加Topic计费规则

    |计费项目|Topic数量（个）|地域组1单价（元/月）|地域组2单价（元/月）|地域组3单价（元/月）|
    |----|----------|-----------|-----------|-----------|
    |Topic|1|40|58|54|

    **说明：** 如果规格内预包含的Topic数量不满足需求，需额外增加Topic。


欠费处理

如果您购买的服务已到期，您账户下的消息队列Kafka版服务会立即停机，即您将不能再继续使用消息队列Kafka版服务。如果停机后168小时依然欠费，消息队列Kafka版实例将会释放，实例释放后数据不可恢复，即您不能再使用消息队列Kafka版服务。

## 按量付费

在按量付费模式下，您按需选择流量规格以及磁盘容量等配置项，计费以小时为单位，不足一小时按照一小时计算。每小时进行一次结算，每24小时出一次账单，费用将自动从账户余额中扣除，即阿里云将在下一个自然日就您上一个自然日的服务使用进行计量、出具账单并自您的阿里云账户中按账单金额扣划服务费用。

您在购买消息队列Kafka版按量付费实例后，系统会为您分配相应的实例资源。因此，按量付费模式是以实例单价×服务时间计费的，与您购买后是否使用该实例无关。

计费公式

计费公式与实例类型相关。

-   如果购买的是公网/VPC实例，请按需选择公网流量、流量规格、磁盘容量、增加的Topic数量，计费公式如下。

    总计费=（公网流量单价+流量规格单价+磁盘容量单价×购买的磁盘容量/100+Topic单价×增加的Topic数量）×小时数

-   如果购买的是VPC实例，请按需选择流量规格、磁盘容量、增加的Topic数量，计费公式如下。

    总计费=（流量规格单价+磁盘容量单价×购买的磁盘容量/100+Topic单价×增加的Topic数量）×小时数


计费规则

计费规则包含公网流量、流量规格、磁盘容量、增加Topic：

-   公网流量计费规则

    详情请参见弹性公网IP的[按量计费](/cn.zh-CN/产品计费/按量计费.md)。

-   流量规格计费规则

    流量规格计费规则与规格类型相关。

    |流量规格|网卡读流量峰值（MB/s）|网卡写流量峰值（MB/s）|规格内预包含Topic数量（个）|规格内预包含分区数量（个）|地域组1单价（元/小时）|地域组2单价（元/小时）|地域组3单价（元/小时）|
    |----|-------------|-------------|----------------|-------------|------------|------------|------------|
    |alikafka.hw.2xlarge|3×20|3×20|50|1100|2.42|3.51|3.22|
    |alikafka.hw.3xlarge|3×30|3×30|50|1200|3.50|5.08|4.66|
    |alikafka.hw.6xlarge|3×60|3×60|80|1400|5.04|7.31|6.71|
    |alikafka.hw.9xlarge|3×90|3×90|100|1600|6.43|9.33|8.56|
    |alikafka.hw.12xlarge|3×120|3×120|150|1800|7.82|11.34|10.41|

    |流量规格|网卡读流量峰值（MB/s）|网卡写流量峰值（MB/s）|规格内预包含Topic数量（个）|规格内预包含分区数量（个）|地域组1单价（元/小时）|地域组2单价（元/小时）|地域组3单价（元/小时）|
    |----|-------------|-------------|----------------|-------------|------------|------------|------------|
    |alikafka.hw.2xlarge|3×20|3×20|50|1100|5.21|7.52|6.90|
    |alikafka.hw.3xlarge|3×30|3×30|50|1200|6.50|9.36|8.60|
    |alikafka.hw.6xlarge|3×60|3×60|80|1400|8.93|12.85|11.79|
    |alikafka.hw.9xlarge|3×90|3×90|100|1600|10.79|15.47|14.20|
    |alikafka.hw.12xlarge|3×120|3×120|150|1800|12.88|18.48|16.95|
    |alikafka.hw.16xlarge|3×160|3×160|180|2000|14.50|20.75|19.03|
    |alikafka.hw.20xlarge|3×200|3×200|200|2200|22.23|31.87|29.24|
    |alikafka.hw.25xlarge|3×250|3×250|250|2500|25.20|36.12|33.14|
    |alikafka.hw.30xlarge|3×300|3×300|300|3000|27.69|39.63|36.36|
    |alikafka.hw.60xlarge|3×600|3×600|450|4500|31.34|44.41|40.76|
    |alikafka.hw.80xlarge|3×800|3×800|500|5000|33.72|47.51|43.61|
    |alikafka.hw.100xlarge|3×1000|3×1000|600|6000|36.25|50.80|46.63|
    |alikafka.hw.120xlarge|3×1200|3×1200|700|7000|38.32|53.48|49.10|
    |alikafka.hw.150xlarge|3×1500|3×1500|800|8000|41.97|58.26|53.49|
    |alikafka.hw.180xlarge|3×1800|3×1800|900|9000|45.46|62.80|57.67|
    |alikafka.hw.200xlarge|3×2000|3×2000|1000|10000|48.30|66.49|61.05|

    |流量规格|网卡读流量峰值（MB/s）|网卡写流量峰值（MB/s）|规格内预包含Topic数量（个）|规格内预包含分区数量（个）|地域组1单价（元/小时）|地域组2单价（元/小时）|地域组3单价（元/小时）|
    |----|-------------|-------------|----------------|-------------|------------|------------|------------|
    |alikafka.hr.2xlarge|50+2×10|10+2×10|50|1100|5.21|7.52|6.90|
    |alikafka.hr.3xlarge|75+2×15|15+2×15|50|1200|6.50|9.36|8.60|
    |alikafka.hr.6xlarge|150+2×30|30+2×30|80|1400|8.93|12.85|11.79|
    |alikafka.hr.9xlarge|180+2×45|45+2×45|100|1600|10.79|15.47|14.20|
    |alikafka.hr.12xlarge|240+2×60|60+2×60|150|1800|12.88|18.48|16.95|

-   磁盘容量计费规则

    |磁盘类型|磁盘大小（GB）|地域组1单价（元/小时）|地域组2单价（元/小时）|地域组3单价（元/小时）|
    |----|--------|------------|------------|------------|
    |高效云盘|100|0.06|0.09|0.08|
    |SSD|100|0.16|0.24|0.22|

    **说明：** 如果规格内预包含的磁盘容量不满足需求，需额外增加磁盘。

-   增加Topic计费规则

    |计费项目|Topic数量（个）|地域组1（元/小时）|地域组2（元/小时）|地域组3（元/小时）|
    |----|----------|----------|----------|----------|
    |Topic|1|0.083|0.121|0.111|

    **说明：** 如果规格内预包含的Topic数量不满足需求，需额外增加Topic。


欠费处理

当您的账户余额不足以支付账单金额，您账户下的消息队列Kafka版服务处于欠费状态超过96小时将会停机，即您将不能再继续使用消息队列Kafka版服务。如果停机后168小时依然欠费，消息队列Kafka版实例将会释放，实例释放后数据不可恢复，即您不能再使用消息队列Kafka版服务。

