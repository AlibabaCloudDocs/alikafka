# 升级实例配置 {#concept_102247_zh .concept}

如果您的消息队列 for Apache Kafka 实例因磁盘使用率偏高（持续高于 85%）或流量峰值持续超过已购买的规格，导致无法满足业务需求，您可以按需升级实例配置。

## 背景信息 {#section_g9j_i4a_qg0 .section}

-   **付费模式** 

    实例配置的升级和付费模式相关。

    -   预付费（包年包月）模式：

        -   升级实例配置时，可以在版本内升级，也可以跨版本升级。例如，您购买了预付费（包年包月）模式下的标准版实例，则您可以按需在标准版内升级配置，或者先将标准版升级至专业版后，再升级对应配置。

        -   标准版实例的流量峰值最大可升级至 120 MB/s，若您想升级至 120 MB/s 以上的规格，请先升级至专业版，且磁盘最大限制为 6100 GB。

    -   后付费（按量付费）模式：

        -   没有标准版和专业版的区分

        -   您可升级的最大公网流量和流量峰值分别为 160 Mbps 和 120 MB/s。

-   **磁盘类型** 

    升级过程中针对磁盘类型有以下限制：

    -   升级过程中不能更改磁盘类型，购买时请谨慎选择。

    -   高效云盘支持流量峰值最多升级至 120 MB/s。

    -   SSD 支持 300 MB/s 或者更高规格的流量峰值升级，且无升级规格限制，推荐您使用 SSD。


## 升配风险 {#section_phv_1mb_a9b .section}

升级实例配置会引发集群逐台重启，可能会出现的风险如下：

-   如果客户端无重连机制，可能导致断开连接后不可用。

-   升级预计持续约 30 分钟，服务不会中断，可能会导致消费的分区（Partition）消息发生乱序，请谨慎评估业务影响。


## 前提条件 {#section_wko_lk3_0h6 .section}

本文以包年包月预付费模式下，将消息队列 for Apache Kafka 标准版实例升级至专业版配置的步骤为例进行说明：

-   付费模式为预付费（包年包月）模式。

-   实例的版本为标准版，且处于**服务中**状态。


## 操作步骤 {#section_qxf_mp2_kpn .section}

将消息队列 for Apache Kafka 标准版实例升级至专业版：

1.  登录[消息队列Kafka 控制台](http://kafka.console.aliyun.com)，在顶部菜单栏选择实例所在地域（Region）。

2.  在左侧导航栏，单击**实例详情**。

3.  在实例详情页面上方，单击目标实例 ID，然后在**基本信息**区域的右上角，单击**实例升配**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/998838/156839652053350_zh-CN.png)

    **说明：** 您可根据需求单击**实例名称**后的编辑图标，按需修改实例名称。

4.  在实例升级风险说明对话框中，会显示升级配置所带来的风险，请仔细阅读。确认风险后，选中**已知集群会重启, 会导致业务不可用风险**，并单击**我已知晓**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/998838/156839652053351_zh-CN.png)

5.  在变配页面，选择**专业版**的**规格类型**，暂不更新相应配置，选中**《消息队列 for Apache Kafka（包年包月）服务协议》**然后单击**去支付**。

    ![](images/53354_zh-CN.png "升配标准版公网/VPC实例")

6.  成功升级至专业版后，重复步骤 1 至步骤 3 后，再将实例升级至所需配置。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/998838/156839652053359_zh-CN.png)

    **说明：** 

    -   流量峰值有默认推荐的磁盘容量，调整流量峰值会相应调整磁盘容量。

    -   升级的磁盘容量跨度越大，耗时越长。

    -   升级配置后，订单生效时间以升级订单页描述为准。


## 结果验证 {#section_nes_ch1_xho .section}

在实例详情页面的**运行状态**区域，查看运行状态。

-   如果运行状态是**服务中**，说明变更成功。

-   如果运行状态是**升级中**，请耐心等待。

-   如果运行状态是**升级失败**，请提交[工单](https://selfservice.console.aliyun.com/ticket/category/alikafka/today)处理。


## 后续步骤 {#section_pyx_szy_7i4 .section}

完成实例升配后，您可能还需修改消息配置以适配升级后的实例规格，详情请参见[变更消息配置](cn.zh-CN/用户指南/实例管理/变更消息配置.md#)。

## 更多信息 {#section_srk_d80_uqt .section}

-   查看磁盘使用率或流量峰值，请参见[监控报警](cn.zh-CN/用户指南/控制台使用指南/监控报警.md#)。

-   查看计费模式和实例规格，请参见[计费说明](../../../../cn.zh-CN/产品定价/计费说明.md#)。


