# 使用限制

消息队列Kafka版对某些具体指标进行了约束和规范，您在使用消息队列Kafka版时注意不要超过相应的限制值，以免程序出现异常。

具体的限制项和限制值，请参见下表。

|限制项|限制值|说明|
|---|---|--|
|限制Topic总数（分区总数）|支持|消息队列Kafka版的存储和协调机制是以分区为粒度的，Topic总数（分区总数）太多，会导致存储碎片化，集群性能和稳定性下降。|
|Topic减分区|不支持|这是Apache Kafka自身设计所限制的。|
|暴露ZooKeeper|不支持|在使用设计层面，Apache Kafka自0.9.0之后已经屏蔽掉ZooKeeper，即客户端使用无需访问ZooKeeper。消息队列Kafka版的ZooKeeper是部分共享的，出于安全考虑，不予暴露。您也无需感知到ZooKeeper。|
|登录部署消息队列Kafka版的机器|不支持|无|
|版本|支持0.10.x版本~2.x版本|-   2.x向前兼容0.10.x、0.9.0。
-   0.10.x向前兼容0.9.0。
-   如需将0.10.x版本的实例升级到2.x版本，请参见[升级实例版本](/intl.zh-CN/用户指南/实例/升级实例版本.md)。 |
|Consumer Group规格|Topic规格×2|例如，某个实例的Topic规格为50个，则该实例下最多能创建100个Consumer Group。如需升级Consumer Group规格，您可升级Topic规格，每增加1个Topic配额，对应增加2个Consumer Group配额。如何升级实例规格，请参见[升级实例配置](/intl.zh-CN/用户指南/实例/升级实例配置.md)。|
|Topic数量和分区数量的对应关系|1:16|在默认分区数的基础上，每增购1个Topic，对应增加16个分区。例如，您购买了Topic数量为50、流量规格为2xlarge、默认分区数为400的标准版（高写版）实例，则当您增购10个Topic后，该实例对应增加160个分区，分区数上升为560。|
|专业版实例Topic数|购买Topic数×2|例如，您购买了Topic数量为50的专业版实例，那么该实例实际可用的Topic数为100。|
|变更实例的地域或网络属性|不支持|实例购买部署之后，其地域和网络属性与物理资源紧密结合，无法变更。如需变更实例的地域或网络属性，请释放实例，并重新购买。|
|消息大小|10 MB|消息大小不得超过10 MB，否则消息会发送失败。|
|监控报警|支持|数据延时1分钟。|
|客户端与每个Broker连接数量|建议不超过1000个|消息队列Kafka版的客户端发送消息和订阅消息都需要与Broker建立Socket连接。 当客户端与每个Broker连接数量过多时，Broker会消耗大量性能来维持连接，Broker稳定性将受到严重影响, 因此建议客户端与每个Broker的连接数量不超过1000个。|

