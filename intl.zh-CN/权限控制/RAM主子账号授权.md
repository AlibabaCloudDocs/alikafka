# RAM主子账号授权

借助访问控制RAM的RAM用户，您可以实现阿里云账号（主账号）和RAM用户（子账号）权限分割，按需为RAM用户赋予不同的权限，并避免因暴露阿里云账号密钥而造成安全风险。

企业A开通了消息队列Kafka版服务，该企业需要员工操作消息队列Kafka版服务所涉及的资源，例如实例、Topic、Consumer Group。由于每个员工的工作职责不一样，需要的权限也不一样。企业A的需求如下：

-   出于安全或信任的考虑，不希望将云账号密钥直接透露给员工，而希望能给员工创建相应的用户账号。
-   用户账号只能在授权的前提下操作资源，不需要对用户账号进行独立的计量计费，所有开销都计入企业账号名下。
-   随时可以撤销用户账号的权限，也可以随时删除其创建的用户账号。

## 步骤一：创建RAM用户

使用企业A的阿里云账号登录RAM控制台并为员工创建RAM用户。

1.  登录[RAM控制台](http://ram.console.aliyun.com)。

2.  在左侧导航栏，选择**人员管理** \> **用户**。

3.  在**用户**页面，单击**创建用户**。

4.  在**创建用户**页面的**用户账号信息**区域的**登录名称**，输入登录名称，在**显示名称**文本框，输入显示名称。

    **说明：**

    -   登录名称允许英文字母、数字、英文句号（.）、下划线（\_）和短划线（-），长度不超过128个字符。
    -   显示名称长度不超过24个字符或汉字。
5.  如需创建多个RAM用户，单击**添加用户**，重复上一步。

6.  在**访问方式**区域，选择访问方式，然后单击**确定**。

    **说明：** 为提高安全性，建议您只为RAM用户选择一种访问方式。

    -   如果选择**控制台访问**，则需完成进一步设置，包括控制台密码设置、登录时是否要求重置密码、是否开启多因素认证。
    -   如果选择**编程访问**，则RAM会自动为RAM用户创建AccessKey。

        **说明：** 出于安全考虑，RAM控制台只提供一次查看或下载AccessKey Secret的机会，即创建AccessKey时，因此请务必将AccessKey Secret记录到安全的地方。

7.  在**手机验证**对话框，单击**获取验证码**，输入收到的手机验证码，然后单击**确定**。


## 步骤二：为RAM用户添加权限

为不同员工的RAM用户授予不同的权限。

1.  在RAM控制台的左侧导航栏，单击**人员管理** \> **用户**。

2.  在**用户**页面，找到需要授权的用户，在其右侧**操作**列，单击**添加权限**。

3.  在**添加权限**面板的**选择权限**区域，选择策略类型，通过关键字搜索需要添加的权限策略 ，并单击权限策略将其添加至右侧的已选择列表中，然后单击**确定**。

    **说明：** 支持授予的访问消息队列Kafka版的权限策略请参见[RAM权限策略]()。

4.  在**添加权限**面板，查看授权信息，然后单击**完成**。


企业A的员工的RAM用户可以通过以下方式访问企业A的消息队列Kafka版。

-   控制台
    1.  在浏览器打开[RAM用户登录入口](https://signin.aliyun.com/login.htm)。
    2.  在**RAM用户登录**页面，输入RAM用户名称，单击**下一步**，输入RAM用户密码，然后单击**登录**。

        **说明：** RAM用户登录名称的格式为<$username\>@<$AccountAlias\>或<$username\>@<$AccountAlias\>.onaliyun.com。<$AccountAlias\>为账号别名，如果没有设置账号别名，则默认值为阿里云账号的ID。

-   API

    在代码中使用RAM用户的AccessKey ID和AccessKey Secret调用API访问消息队列Kafka版。


