# 计费说明

本文介绍消息队列Kafka版的规格类型、实例类型、计费项目和计费模式，以便您了解计价规则，并更好地按需选型。

## 规格类型

消息队列Kafka版实例按照规格分为专业版和标准版。

|项目|专业版|标准版|
|--|---|---|
|版本|-   支持0.10.x~2.x。
-   2.x向前兼容0.11.x和1.x。
-   默认部署版本为0.10.x，若需升级，请参见[升级实例版本](/intl.zh-CN/用户指南/实例/升级实例版本.md)。

|仅支持0.10.x。|
|实例类型|专享实例。|虚拟实例（部分共享）。|
|消息存储时间|根据您的场景定制。|最多7天。|
|容灾|支持多可用区部署。|单可用区部署。|
|性能调优|支持根据业务场景定制。|不支持。|
|跨地域（Region）消息路由|不支持。|不支持。|
|Topic|可用Topic数为购买Topic数的两倍。|可用Topic数为购买Topic数。|
|存储成本|分布式3副本机制。 -   云存储：如果您的需求为900 GB数据容量，请购买900 GB磁盘容量。
-   Local存储：如果您的需求为900 GB数据容量，请购买2700 GB磁盘容量。

|分布式3副本机制。 如果您的需求为900 GB数据容量，请购买2700 GB磁盘容量。 |

## 实例类型

VPC实例：只提供默认接入点，只能通过[专有网络VPC](/intl.zh-CN/产品简介/什么是专有网络.md)访问。

## 计费项目

消息队列Kafka版的计费项目的详细说明如下：

|计费项目|说明|备注|
|----|--|--|
|流量峰值|流量峰值的购买说明如下： -   双通道，读写一致。购买时按照读流量峰值或写流量峰值的最大值购买流量峰值规格。为了业务的稳定性，一般购买大于实际读或写流量峰值最大值30%左右的余量作为缓冲。例如写流量峰值为100 MB/s，读流量峰值为200 MB/s，则以200 MB/s×（1+30%）的流量峰值规格购买。
-   不同的流量峰值规格有各自对应的Topic和分区数量限制。如果您需要创建的Topic或分区数量超过某一流量峰值规格限定的最大Topic或分区数量，则您需升级实例配置，或删除无用的Topic或分区。如需升级实例配置，请参见[升级实例配置](/intl.zh-CN/用户指南/实例/升级实例配置.md)。
-   每一个流量峰值规格都有磁盘空间大小限制。

|无。|
|磁盘容量|出于性能和存储空间考虑，每一个流量峰值规格都有磁盘空间大小限制，即您须购买允许范围内的磁盘容量。此外，流量峰值也受磁盘类型的限制。消息队列Kafka版支持以下磁盘类型： -   高效云盘：

    -   标准版：支持的流量峰值规格最大为120 MB/s。
    -   专业版：不支持。
支持最大的流量峰值为120 MB/s；

-   （推荐）SSD：
    -   标准版：支持的流量峰值规格最大为120 MB/s。
    -   专业版：支持的流量峰值规格最大为2000 MB/s。

|磁盘类型一经下单不可更改，请谨慎选择。消息队列Kafka版支持以下存储引擎： -   云存储：
    -   专业版：如果您的需求为900 GB数据容量，请购买900 GB磁盘容量。
    -   标准版：如果您的需求为900GB数据容量，请购买2700 GB磁盘容量。
-   Local存储：

如果您的需求为900 GB数据容量，请购买2700 GB磁盘容量。 |
|Topic规格|-   不同流量峰值对应不同的Topic规格。Topic规格和流量峰值的对应关系 ，请参见[计费模式](#section_5z4_pg2_j7u)中的流量峰值计费规则。
-   在默认分区数的基础上，每增购1个Topic，对应增加16个分区。例如，您购买了Topic数量为50、流量峰值为20 MB/s、默认分区数为400的实例，那么当您增购10个Topic后，该实例对应增加160个分区，分区数上升为560。
-   专业版实例的可用Topic数=购买Topic数×2。例如，您购买了Topic数量为50的专业版实例，那么该实例实际可用的Topic数为100。

|无。|

**说明：**

-   各个计费项目分别计费后再叠加的费用即是您需支付的费用。
-   您可以设置**消息保留的最长时间**节省磁盘容量，该参数是指在磁盘容量充足的情况下，消息的最长保留时间。在磁盘容量不足（即磁盘空间使用率达到90%）时，系统将提前删除旧的消息，以确保服务可用性。消息保留的最长时间默认为72小时，可选24小时～168小时。
-   接口调用次数不作为计费项。

## 计费模式

消息队列Kafka版目前只支持包年包月预付费模式。

计费公式

总计费=（流量峰值单价+磁盘容量单价×磁盘容量/100+Topic单价×增加的Topic数量）×月数

计费规则

计费规则包括流量峰值、磁盘容量、增加的Topic：

-   流量峰值计费规则

    流量峰值的计费规则与规格类型相关。

    |流量峰值（MB/s）|Topic数量（个）|分区数量（个）|地域1单价（美元/月）|地域2单价（美元/月）|地域3单价（美元/月）|
    |----------|----------|-------|-----------|-----------|-----------|
    |20|50|400|250|370|340|
    |30|50|500|360|530|480|
    |60|80|600|520|760|700|
    |90|100|800|660|960|880|
    |120|150|900|800|1160|1070|

    |流量峰值（MB/s）|Topic数量（个）|分区数量（个）|地域1单价（美元/月）|地域2单价（美元/月）|地域3单价（美元/月）|
    |----------|----------|-------|-----------|-----------|-----------|
    |20|50|1100|600|870|800|
    |30|50|1200|780|1040|1040|
    |60|80|1400|1130|1510|1510|
    |90|100|1600|1440|1920|1920|
    |120|150|1800|1750|2330|2330|
    |160|180|2000|2060|2740|2740|
    |200|200|2200|2980|3970|3970|
    |250|250|2500|3430|4570|4570|
    |300|300|3000|3880|5170|5170|
    |600|450|4500|5280|7030|7030|
    |800|500|5000|6220|8280|8280|
    |1000|600|6000|7270|9670|9670|
    |1200|700|7000|8100|10780|10780|
    |1500|800|8000|9500|12640|12640|
    |1800|900|9000|10910|14520|14520|
    |2000|1000|10000|12070|16060|16060|

-   磁盘容量计费规则

    |磁盘类型|磁盘大小（GB）|地域1单价（美元/月）|地域2单价（美元/月）|地域3（美元/月）|
    |----|--------|-----------|-----------|---------|
    |高效云盘|100|6|8|8|
    |SSD|100|16|23|21|

-   增加Topic计费规则

    |计费项目|Topic数量（个）|地域1单价（美元/月）|地域2单价（美元/月）|地域3（美元/月）|
    |----|----------|-----------|-----------|---------|
    |Topic|1|7|11|10|


## 地域说明

消息队列Kafka版支持的地域如下：

|地域类型|地域名称|
|----|----|
|地域1|华东1（杭州）|
|华东2（上海）|
|华北1（青岛）|
|华北2（北京）|
|华北3（张家口）|
|华北5（呼和浩特）|
|华南1（深圳）|
|华南2（河源）|
|西南1（成都）|
|地域2|中国香港|
|新加坡（新加坡）|
|日本（东京）|
|美国（弗吉尼亚）|
|美国（硅谷）|
|德国（法兰克福）|
|英国（伦敦）|
|地域3|马来西亚（吉隆坡）|
|印度（孟买）|
|印度尼西亚（雅加达）|

